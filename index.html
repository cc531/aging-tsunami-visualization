<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Aging Tsunami - A Demographic Revolution</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        /* Basic styling for the narrative visualization */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 10px;
        }
        
        .header h1 {
            margin: 0 0 10px 0;
            font-size: 2.5rem;
        }
        
        /* Scene management - only show active scene */
        .scene {
            display: none;
            min-height: 500px;
        }
        
        .scene.active {
            display: block;
        }
        
        .scene h2 {
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }
        
        /* Annotation template for consistency */
        .annotation {
            background: #fff3cd;
            padding: 15px;
            border-left: 4px solid #ffc107;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .annotation strong {
            color: #856404;
        }
        
        .chart-container {
            margin: 20px 0;
            text-align: center;
        }
        
        /* Navigation triggers */
        .navigation {
            text-align: center;
            margin: 30px 0;
        }
        
        .nav-btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 0 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }
        
        .nav-btn:hover {
            background: #0056b3;
        }
        
        .nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .scene-counter {
            margin: 0 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üåä Global Aging Tsunami</h1>
            <p>The Unprecedented Demographic Revolution</p>
        </div>
        
        <!-- Scene 1: Global Overview -->
        <div id="scene1" class="scene active">
            <h2>Scene 1: The Global Aging Reality</h2>
            <div class="annotation">
                <strong>Key Message:</strong> By 2050, the global population aged 60+ will double from 1.1 billion to 2.1 billion people - that's like 1.3 million people entering old age every week!
            </div>
            <div class="chart-container">
                <div id="chart1">
                    <p>Chart 1 will be displayed here</p>
                </div>
            </div>
        </div>
        
        <!-- Scene 2: Country Comparison -->
        <div id="scene2" class="scene">
            <h2>Scene 2: Extreme Contrasts</h2>
            <div class="annotation">
                <strong>Shocking Discovery:</strong> Japan has 29% of population over 65, while Nigeria and Kenya have median ages of just 18-19 years. Same planet, different worlds!
            </div>
            <div class="chart-container">
                <div id="chart2">
                    <p>Chart 2 will be displayed here</p>
                </div>
            </div>
        </div>
        
        <!-- Scene 3: Asian Aging Race -->
        <div id="scene3" class="scene">
            <h2>Scene 3: The Asian Aging Race</h2>
            <div class="annotation">
                <strong>Critical Trend:</strong> South Korea will overtake Japan as the world's most aged society by 2045. China's elderly population will surge from 8.3% to 23.9%.
            </div>
            <div class="chart-container">
                <div id="chart3">
                    <p>Chart 3 will be displayed here</p>
                </div>
            </div>
        </div>
        
        <!-- Scene 4: Interactive Exploration (Martini Glass "bottom") -->
        <div id="scene4" class="scene">
            <h2>Scene 4: Explore the Data</h2>
            <div class="annotation">
                <strong>Interactive Feature:</strong> Now you can explore! Click on any country to see detailed aging trends and projections.
            </div>
            <div class="chart-container">
                <div id="chart4">
                    <p>Interactive chart will be displayed here</p>
                </div>
            </div>
        </div>
        
        <!-- Navigation (Triggers) -->
        <div class="navigation">
            <button class="nav-btn" id="prevBtn" onclick="previousScene()">‚Üê Previous</button>
            <span class="scene-counter" id="sceneCounter">1 / 4</span>
            <button class="nav-btn" id="nextBtn" onclick="nextScene()">Next ‚Üí</button>
        </div>
    </div>
    
    <script>
        // Parameters - state variables for the narrative visualization
        let currentScene = 1;
        const totalScenes = 4;
        
        // Scene management functions (Triggers)
        function showScene(sceneNum) {
            // Hide all scenes
            document.querySelectorAll('.scene').forEach(scene => {
                scene.classList.remove('active');
            });
            
            // Show current scene
            document.getElementById(`scene${sceneNum}`).classList.add('active');
            
            // Update navigation
            updateNavigation();
            
            // TODO: Render appropriate chart for this scene
            console.log(`Showing scene ${sceneNum}`);
        }
        
        function nextScene() {
            if (currentScene < totalScenes) {
                currentScene++;
                showScene(currentScene);
            }
        }
        
        function previousScene() {
            if (currentScene > 1) {
                currentScene--;
                showScene(currentScene);
            }
        }
        
        function updateNavigation() {
            document.getElementById('prevBtn').disabled = (currentScene === 1);
            document.getElementById('nextBtn').disabled = (currentScene === totalScenes);
            document.getElementById('sceneCounter').textContent = `${currentScene} / ${totalScenes}`;
        }
        
        // Initialize the visualization
        document.addEventListener('DOMContentLoaded', function() {
            showScene(1);
            console.log('Aging Tsunami visualization initialized');
        });
    </script>
</body>
</html>
